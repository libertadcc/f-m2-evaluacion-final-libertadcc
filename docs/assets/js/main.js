"use strict";const url="http://api.tvmaze.com/search/shows?q=",btn=document.querySelector(".btn"),input=document.querySelector(".input"),results=document.querySelector(".results");let arrFav=[];function search(){fetch(`${url}${input.value}`).then(e=>e.json()).then(e=>{results.innerHTML="";for(let t=0;t<e.length;t++){const a=document.createElement("li");a.classList.add("result__serie");const n=document.createElement("h2");n.classList.add("result__title");const r=document.createElement("img");r.classList.add("result__img");const s=e[t].show,i=document.createTextNode(`${s.name}`);null===s.image?(r.setAttribute("src","https://via.placeholder.com/210x295/ffffff/666666/?text=TV"),a.appendChild(r),r.setAttribute("alt",`Portada de ${s.name} no disponible`)):(r.setAttribute("src",`${s.image.medium}`),a.appendChild(r),r.setAttribute("alt",`Portada de ${s.name}`)),a.addEventListener("click",fav),n.appendChild(i),a.appendChild(n),a.appendChild(r),results.appendChild(a)}})}function fav(){event.currentTarget.classList.add("fav__serie");const e=event.currentTarget.firstChild;e.classList.add("fav__title");const t=event.currentTarget.lastChild;t.classList.add("fav__img");const a={title:`${e.innerHTML}`,photo:`${t.src}`};saveData(),arrFav.push(a),console.log("!!",arrFav);const n=document.createElement("h4"),r=document.createTextNode(`${a.title}`),s=document.createElement("img");s.setAttribute("src",`${a.photo}`),s.setAttribute("alt",`Portada de ${a.title}`);const i=document.querySelector(".fav__result"),l=document.createElement("li");n.appendChild(r),l.appendChild(n),l.appendChild(s),i.appendChild(l)}function saveData(){localStorage.setItem("favSeries",JSON.stringify(arrFav))}function getData(){JSON.parse(localStorage.getItem("favSeries"))}function print(){console.log(favSeries)}btn.addEventListener("click",search),window.addEventListener("load",print);